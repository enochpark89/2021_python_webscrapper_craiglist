<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Appliance page</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <style>
        body{
            margin-top: 40px;
        }
        form{
            margin-top: 40px;
        }
        #loading{
            margin-top:40px;
        }
    </style>
</head>
<body>
    <div class="col-xs-1" align="center">

        <h1>Select a category of data that you want to scrape from <em>Craiglist.org</em>:</h1>

        <form action="/report" method="get">
            <input class="btn--1" type="submit" value="Appliance" name="word"/>
            <input class="btn--2" type="submit" value="Automobile" name="word"/>
            <input class="btn--3"type="submit" value="Computer" name="word"/>
        </form>

        <div id="loading" class="container-fluid" style="display:none;">
            
            <h2>Scraping......</h2>
            <div class="progress" style="width: 75%">
                <div id="progress_bar" style="width: 0%;" class="progress-bar">0%</div>
            </div>
        </div>
    </div>
    <script>
        let container = document.getElementById('loading');
        let progress_bar = document.getElementById('progress_bar');
        // select all buttons that start with a class named 'btn'.
        let allBtns = document.querySelectorAll('input[class^=btn]');
        
        // Make the container of progress bar appear.
        function showbar() {
            container.style.display = 'block';
            setTimeout(changeToTenth, 3000)
        }

        function changeToTenth() {
        progress_bar.style = "width: 10%"
        progress_bar.innerText = "10%"
        setTimeout(changeToTwentyFive, 5000)
        }

        function changeToTwentyFive() {
            progress_bar.style = "width: 25%"
            progress_bar.innerText = "25%"
            setTimeout(changeToFifty, 5000)
        }

        function changeToFifty() {
            progress_bar.style = "width: 50%"
            progress_bar.innerText = "50%"
            setTimeout(changeToSeventyFive, 5000)
        }

        function changeToSeventyFive() {
            progress_bar.style = "width: 75%"
            progress_bar.innerText = "75%"
            setTimeout(changeToNinety, 2000)
        }

        function changeToNinety() {
            progress_bar.style = "width: 90%"
            progress_bar.innerText = "90%"
            setTimeout(changeToHundred, 5000)
        }

        function changeToHundred() {
        progress_bar.style = "width: 100%"
        progress_bar.innerText = "100%"

        }
        // the same progress bar shows when one of 3 buttons are clicked.
        for (var i = 0; i < allBtns.length; i++) {
            allBtns[i].addEventListener("click", showbar);
        }
    </script>
</body>
</html>